# ãƒ–ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ (Spring Boot + Doma + Angular)

## ğŸ¯ æ¦‚è¦
æ—¢å­˜è³‡ç”£ã‚’æ´»ã‹ã—ãŸ **Spring Boot + Doma + Angular** æ§‹æˆã§ã€  
JSONå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ãƒ–ãƒ­ã‚°è¨˜äº‹ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆç®¡ç†ç”»é¢ã‚’è‡ªå‹•ç”Ÿæˆã§ãã‚‹ä»•çµ„ã¿ã€‚

---

## ğŸ— æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Spring Boot 3.2.x**
- **Doma 2.54.x** (å‹å®‰å…¨ãªDBã‚¢ã‚¯ã‚»ã‚¹)
- **PostgreSQL / SQLite** (å€‹äººåˆ©ç”¨ãªã‚‰SQLiteã‚‚å¯)
- **Spring Security** (èªè¨¼ãƒ»æ¨©é™ç®¡ç†)

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **AngularJS 1.8.2**ï¼ˆæ—¢å­˜è³‡ç”£ï¼‰
- å°†æ¥çš„ã«ã¯ **Angular (æœ€æ–°)** ã¸ã®ç§»è¡Œæ¨å¥¨
- **Bootstrap 3.4.1**ï¼ˆUIï¼‰
- **JSON Schema Form**ï¼ˆãƒ•ã‚©ãƒ¼ãƒ è‡ªå‹•ç”Ÿæˆã«å¿œç”¨å¯èƒ½ï¼‰

---

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€  (ä¾‹)
spring-angularjs-doma/ â”œâ”€â”€ src/main/java/com/example/app/ â”‚   â”œâ”€â”€ Application.java â”‚   â”œâ”€â”€ config/ â”‚   â”‚   â”œâ”€â”€ DomaConfig.java â”‚   â”‚   â””â”€â”€ WebConfig.java â”‚   â”œâ”€â”€ controller/ â”‚   â”‚   â””â”€â”€ DynamicScreenController.java â”‚   â””â”€â”€ service/ â”‚       â””â”€â”€ DynamicScreenService.java â”‚ â”œâ”€â”€ src/main/resources/ â”‚   â”œâ”€â”€ application.yml â”‚   â”œâ”€â”€ db/ â”‚   â”‚   â”œâ”€â”€ schema.sql â”‚   â”‚   â””â”€â”€ data.sql â”‚   â””â”€â”€ screens/ â”‚       â”œâ”€â”€ blog.json â”‚       â”œâ”€â”€ comment.json â”‚       â””â”€â”€ category.json â”‚ â””â”€â”€ src/main/webapp/app/ â”œâ”€â”€ index.html â”œâ”€â”€ scripts/ â”‚   â”œâ”€â”€ app.js â”‚   â”œâ”€â”€ controllers/ â”‚   â”‚   â”œâ”€â”€ dynamicScreenController.js â”‚   â”‚   â”œâ”€â”€ navigationController.js â”‚   â”‚   â””â”€â”€ homeController.js â”‚   â””â”€â”€ filters/range.js â””â”€â”€ views/ â”œâ”€â”€ home.html â””â”€â”€ dynamicScreen.html

## ğŸ“° ãƒ–ãƒ­ã‚°æ©Ÿèƒ½æ§‹æˆ

### 1. è¨˜äº‹ç®¡ç†
**ãƒ†ãƒ¼ãƒ–ãƒ«: `blog_post`**
```sql
CREATE TABLE blog_post (
    id SERIAL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    author_id INT,
    status VARCHAR(20) DEFAULT 'draft',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

JSONå®šç¾©: screens/blog.json
{
  "title": "ãƒ–ãƒ­ã‚°è¨˜äº‹ç®¡ç†",
  "tableName": "blog_post",
  "searchFields": [
    { "key": "title", "label": "ã‚¿ã‚¤ãƒˆãƒ«", "type": "text", "placeholder": "ã‚¿ã‚¤ãƒˆãƒ«ã§æ¤œç´¢" },
    { "key": "author_id", "label": "ä½œæˆè€…", "type": "number" }
  ],
  "listColumns": [
    { "key": "id", "label": "ID", "sortable": true },
    { "key": "title", "label": "ã‚¿ã‚¤ãƒˆãƒ«", "sortable": true },
    { "key": "status", "label": "å…¬é–‹çŠ¶æ…‹", "sortable": true },
    { "key": "created_at", "label": "ä½œæˆæ—¥", "sortable": true }
  ],
  "formFields": [
    { "key": "title", "label": "ã‚¿ã‚¤ãƒˆãƒ«", "type": "text", "required": true },
    { "key": "content", "label": "æœ¬æ–‡", "type": "textarea", "required": true },
    { "key": "status", "label": "å…¬é–‹çŠ¶æ…‹", "type": "select", "options": ["draft", "published"] }
  ],
  "pagination": { "pageSize": 10 }
}

### 2. ã‚³ãƒ¡ãƒ³ãƒˆç®¡ç†
ãƒ†ãƒ¼ãƒ–ãƒ«: blog_comment
CREATE TABLE blog_comment (
    id SERIAL PRIMARY KEY,
    post_id INT NOT NULL,
    author VARCHAR(100),
    comment_text TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

JSONå®šç¾©: screens/comment.json
{
  "title": "ã‚³ãƒ¡ãƒ³ãƒˆç®¡ç†",
  "tableName": "blog_comment",
  "searchFields": [
    { "key": "author", "label": "æŠ•ç¨¿è€…", "type": "text" }
  ],
  "listColumns": [
    { "key": "id", "label": "ID" },
    { "key": "post_id", "label": "è¨˜äº‹ID" },
    { "key": "author", "label": "æŠ•ç¨¿è€…" },
    { "key": "comment_text", "label": "ã‚³ãƒ¡ãƒ³ãƒˆ" }
  ],
  "formFields": [
    { "key": "author", "label": "æŠ•ç¨¿è€…", "type": "text", "required": true },
    { "key": "comment_text", "label": "ã‚³ãƒ¡ãƒ³ãƒˆ", "type": "textarea", "required": true }
  ],
  "pagination": { "pageSize": 20 }
}

3. ã‚«ãƒ†ã‚´ãƒªãƒ»ã‚¿ã‚°ç®¡ç†
- ã‚«ãƒ†ã‚´ãƒªãƒ†ãƒ¼ãƒ–ãƒ«: blog_category
- ã‚¿ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«: blog_tag
- JSONå®šç¾©ã§ select ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆ©ç”¨ã—ã€è¨˜äº‹ä½œæˆæ™‚ã«ã‚«ãƒ†ã‚´ãƒªã‚„ã‚¿ã‚°ã‚’é¸æŠå¯èƒ½ã€‚
æ¨©é™ç®¡ç†
- Spring Security ã‚’å°å…¥
- ç®¡ç†è€…: è¨˜äº‹ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ã®ã¿
- JSONå®šç¾©ã« roles ã‚’è¿½åŠ ã—ã¦ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚„ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºåˆ¶å¾¡ã‚’è¡Œã†ã€‚

ğŸš€ é–‹ç™ºãƒ•ãƒ­ãƒ¼
- DBã«ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ  (blog_post, blog_comment, blog_category, blog_tag)
- screens/*.json ã‚’ä½œæˆ
- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«ç”»é¢ã‚’è¿½åŠ 
- ã‚¢ãƒ—ãƒªå†èµ·å‹• (./gradlew bootRun)
- ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ (http://localhost:8080/app/#!/screen/blog)

ğŸ“Œ ã¾ã¨ã‚
- æ—¢å­˜è³‡ç”£ (Spring Boot + Doma + Angular) ã‚’æ´»ã‹ã—ã¦ãƒ–ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰å¯èƒ½
- DBãƒ†ãƒ¼ãƒ–ãƒ« + JSONå®šç¾© ã§è¨˜äº‹ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ã‚«ãƒ†ã‚´ãƒªç®¡ç†ã‚’è‡ªå‹•ç”Ÿæˆ
- Spring Security ã«ã‚ˆã‚Šå…¬é–‹/éå…¬é–‹ã‚„æ¨©é™ç®¡ç†ã‚‚æŸ”è»Ÿã«å¯¾å¿œ
- å€‹äººåˆ©ç”¨ã‚„æ—¥å¸¸å‘ã‘ã«æœ€é©ãªè»½é‡æ§‹æˆ

